<html>
<script>
// 从URL获取授权码（code）并传递给父窗口
try {
  const params = new URLSearchParams(window.location.search);
  const code = params.get('code');
  if (code && window.opener) {
    window.opener.postMessage({ type: 'oauth_callback', code }, '*');
  }
} catch (e) {
  console.error("Error:", e);
} finally {
  window.close(); // 确保页面关闭
}
</script>
<body>
  授权处理中，请稍候...
</body>
</html>