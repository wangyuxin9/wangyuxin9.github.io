<html>
<script>
try {
  const code = new URLSearchParams(window.location.search).get('code');
  if (code && window.opener) {
    window.opener.postMessage({ type: 'oauth_callback', code }, '*');
    setTimeout(() => window.close(), 300); // 延迟关闭确保消息发送
  }
} catch (e) {
  console.error("Error:", e);
}
</script>
<body>授权处理中...</body>
</html>